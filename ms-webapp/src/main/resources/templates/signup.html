<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Sign up for Flash Cash - Your Digital Payment Solution">
  <title>Sign up | Flash Cash</title>

  <!-- CSS Dependencies -->
  <link th:href="@{css/mdb.min.css?v=1}" rel="stylesheet">
  <link th:href="@{css/index.css?v=1}" rel="stylesheet">
</head>

<body class="signin-form">
<section class="vh-100" style="background-color: #2E75B6;">
  <div class="container py-5 h-100 w-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-12 col-md-8 col-lg-6 col-xl-5">
        <div class="card shadow-2-strong" style="border-radius: 1rem;">
          <div class="card-body p-5 text-center">
            <!-- Logo -->
            <div class="logo-card">
              <img class="w-100 pb-3" th:src="@{/images/healthcarelogo.png}" alt="HealthCare Logo">
            </div>

            <h1 class="card-title h4 mb-5 fw-bold">Sign up</h1>

            <!-- Sign-up Form -->
            <form th:action="@{/signup}" method="post" th:object="${signUpForm}" class="needs-validation" novalidate>
              <!-- Display error messages -->
              <div th:if="${authError}" class="alert alert-danger">
                <span th:text="${authError}"></span>
              </div>

              <div th:if="${#fields.hasErrors('email')}" class="alert alert-danger">
                <span th:each="err : ${#fields.errors('email')}" th:text="${err}"></span>
              </div>
              <div th:if="${#fields.hasErrors('password')}" class="alert alert-danger">
                <span th:each="err : ${#fields.errors('password')}" th:text="${err}"></span>
              </div>

              <div data-mdb-input-init class="form-outline mb-4">
                <input
                        type="email"
                        id="email"
                        th:field="*{email}"
                        class="form-outline form-control-color"
                        placeholder="First name"

                        autofocus>
<!--                required-->
              </div>
              <div class="invalid-feedback text-start">
                Please enter your email
              </div>

              <div data-mdb-input-init class="form-outline mb-4">
                <input
                        type="password"
                        id="password"
                        th:field="*{password}"
                        class="form-outline form-control-color"
                        placeholder="Password"

                >
<!--                required-->
                <!--                        minlength="8"-->

                <div class="invalid-feedback text-start">
                  The password must contain 8 characters, including an uppercase letter, a number, and a symbol
                </div>
              </div>

<!--              <div data-mdb-input-init class="form-outline mb-4">-->
<!--                <input-->
<!--                        type="text"-->
<!--                        id="role"-->
<!--                        th:field="*{role}"-->
<!--                        class="form-outline form-control-color"-->
<!--                        placeholder="role"-->

<!--                >-->
<!--                &lt;!&ndash;                required&ndash;&gt;-->
<!--                &lt;!&ndash;                        minlength="8"&ndash;&gt;-->

<!--                <div class="invalid-feedback text-start">-->
<!--                  Enter a role : USER or ADMIN-->
<!--                </div>-->
<!--              </div>-->

              <button
                      data-mdb-ripple-init
                      class="btn btn-primary btn-lg w-100"
                      type="submit">
                Create account
              </button>

                <a class="d-block text-center mt-2 small" href="/signin" > Already have an account? Sign in</a>
            </form>

<!--            <hr class="my-4">-->

<!--            &lt;!&ndash; Social Sign-up &ndash;&gt;-->
<!--            <div class="social-signin">-->
<!--              <button-->
<!--                      data-mdb-ripple-init-->
<!--                      class="btn btn-lg w-100 mb-3"-->
<!--                      style="background-color: #dd4b39; color: white;"-->
<!--                      type="button"-->
<!--                      onclick="signUpWithGoogle()">-->
<!--                <i class="fab fa-google me-2"></i> Continue with Google-->
<!--              </button>-->

<!--              <button-->
<!--                      data-mdb-ripple-init-->
<!--                      class="btn btn-lg w-100"-->
<!--                      style="background-color: #3b5998; color: white;"-->
<!--                      type="button"-->
<!--                      onclick="signUpWithFacebook()">-->
<!--                <i class="fab fa-facebook-f me-2"></i> Continue with Facebook-->
<!--              </button>-->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.min.js"></script>
<script>
  // Form validation
  (() => {
    'use strict';
    const forms = document.querySelectorAll('.needs-validation');
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  })();

  document.getElementById("signupForm").addEventListener("submit", function(event) {
    var password = document.getElementById("password").value;
    var confirmPassword = document.getElementById("confirmPassword").value;

    if (password !== confirmPassword) {
      event.preventDefault();
      alert("Passwords do not match!");
    }
  });

  // // Social sign-up handlers
  // function signUpWithGoogle() {
  //   // Implement Google sign-up logic
  //   console.log('Google sign-up clicked');
  // }
  //
  // function signUpWithFacebook() {
  //   // Implement Facebook sign-up logic
  //   console.log('Facebook sign-up clicked');
  // }



</script>
</body>
</html>